/* https://github.com/EAimTY/materiality-typecho-theme */
var $=mdui.$;function commentRespond(){document.getElementById("respondid")&&(window.TypechoComment={dom:function(b){return document.getElementById(b)},create:function(c,e){var d=document.createElement(c);for(var a in e)d.setAttribute(a,e[a]);return d},reply:function(c,a){var d,e=this.dom(c),g=(e.parentNode,this.dom($("#respondid").html())),h=this.dom("comment-parent"),i="form"==g.tagName?g:g.getElementsByTagName("form")[0],j=g.getElementsByTagName("textarea")[0];return null==h&&(h=this.create("input",{type:"hidden",name:"parent",id:"comment-parent"}),i.appendChild(h)),h.setAttribute("value",a),null==this.dom("comment-form-place-holder")&&(d=this.create("div",{id:"comment-form-place-holder"}),g.parentNode.insertBefore(d,g)),e.appendChild(g),this.dom("cancel-comment-reply-link").style.display="",null!=j&&"text"==j.name&&j.focus(),!1},cancelReply:function(){var b=this.dom($("#respondid").html()),c=this.dom("comment-form-place-holder"),d=this.dom("comment-parent");return null!=d&&d.parentNode.removeChild(d),null==c||(this.dom("cancel-comment-reply-link").style.display="none",c.parentNode.insertBefore(b,c),!1)}})}function replyComment(b){replyId="#reply-"+b,$(".mdui-card-actions").removeClass("mdui-hidden"),$(replyId).addClass("mdui-hidden"),$("#"+$("#respondid").html()).addClass("mdui-container")}function cancelReply(){$(".mdui-card-actions").removeClass("mdui-hidden"),$("#"+$("#respondid").html()).removeClass("mdui-container")}function drawerActive(){$("a.mdui-list-item").removeClass("mdui-list-item-active");var b=$("a.mdui-list-item").filter(function(a,b){if($(b).prop("href")==window.location.href)return!0});b.addClass("mdui-list-item-active"),b.length||-1==window.location.href.indexOf(window.location.host+"/page/")||$("#home-url").addClass("mdui-list-item-active")}function loadAnimation(){setTimeout(function(){$("html").css("scroll-behavior","smooth"),$(".load-indicator").addClass("load-indicator-hidden"),$(".translate-box").addClass("translate-box-hidden"),$("#main").addClass("content-show")},0)}$(function(){"undefined"!=typeof Pjax&&new Pjax({selectors:["title","meta[name=description]","#main",".translate-box"],cacheBust:!1}),commentRespond(),drawerActive(),loadAnimation(),"undefined"!=typeof SmoothScroll&&SmoothScroll({animationTime:320,stepSize:120,accelerationMax:1,touchpadSupport:!0}),"undefined"!=typeof hljs&&hljs.highlightAll()}),document.addEventListener("pjax:send",function(){setTimeout(function(){$("html").css("scroll-behavior","auto")},0),$(".load-indicator").removeClass("load-indicator-hidden"),1024>window.innerWidth&&new mdui.Drawer("#drawer").close()}),document.addEventListener("pjax:complete",function(){darkInit(),commentRespond(),drawerActive(),loadAnimation(),"undefined"!=typeof hljs&&document.querySelectorAll("pre code").forEach(a=>{hljs.highlightBlock(a)})}),window.onscroll=function(){20<document.body.scrollTop||20<document.documentElement.scrollTop?$("#scrolltop").removeClass("mdui-fab-hide"):$("#scrolltop").addClass("mdui-fab-hide")};
